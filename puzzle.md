# Day 5: 印刷キュー

ケレスでの探索に満足した学者たちの小隊は、次に地下17階の文房具の棚を調査することを提案します。

クリスマスが間近に迫り、北極の印刷部門はこれまで以上に忙しくなっています。この歴史的に重要な施設を調査する歴史家たちが働く中、とても見覚えのあるプリンターを操作しているエルフが手招きします。

エルフはあなたを認識しているようで、新しいソリ発射用安全マニュアルの更新が正しく印刷されない問題をすぐに説明してくれます。安全マニュアルを更新できないのは非常に問題があるため、あなたは協力を申し出ます。

安全プロトコルによると、安全マニュアルの新しいページは非常に特定の順序で印刷されなければなりません。「X|Y」という表記は、もしページ番号Xとページ番号Yが更新の一部として含まれる場合、ページ番号Xは必ずページ番号Yの前に印刷される必要があることを意味します。

エルフは、ページの順序ルールと各更新で印刷すべきページのリスト（パズル入力）を持っていますが、各更新が正しい順序になっているかを確認できないようです。

例を見てみましょう：

```
47|53  
97|13  
97|61  
97|47  
75|29  
61|13  
75|53  
29|13  
97|29  
53|29  
61|53  
97|53  
61|29  
47|13  
75|47  
97|75  
47|61  
75|61  
47|29  
75|13  
53|13  

75,47,61,53,29  
97,61,53,29,13  
75,29,13  
75,97,47,61,53  
61,13,29  
97,13,75,29,47  
```

最初のセクションでは、ページ順序ルールが1行ごとに指定されています。最初のルール「47|53」は、もし更新にページ番号47と53の両方が含まれている場合、ページ番号47はページ番号53の前に印刷される必要があることを意味します（47は必ずしも53の直前である必要はありません。他のページが間に入ることもあります）。

2番目のセクションでは、各更新のページ番号が指定されています。多くの安全マニュアルは異なるため、更新ごとに必要なページも異なります。最初の更新「75,47,61,53,29」は、ページ番号75、47、61、53、29で構成されています。

プリンターをできるだけ早く稼働させるため、まず正しい順序になっている更新を特定します。

上記の例では、最初の更新「75,47,61,53,29」は正しい順序です：

- 75は最初に来るべきページです。なぜなら、75|47、75|61、75|53、75|29と他の全てのページが後に続くルールがあるからです。
- 47は2番目に正しく配置されています。なぜなら、75|47で75が前にあり、47|61、47|53、47|29で他の全てが後ろに続くからです。
- 61は中間に正しく配置されています。75|61と47|61で75と47が前にあり、61|53と61|29で53と29が後に続きます。
- 53は4番目に正しく配置されています。なぜなら、53|29で29より前にあるからです。
- 29は最後のページであり、正しい位置にあります。

一部のページ番号が更新に含まれていない場合、そのページ番号に関する順序ルールは無視されます。

2番目と3番目の更新もルールに従って正しい順序になっています。しかし、4番目の更新「75,97,47,61,53」は、97|75のルールを破るため正しくありません。

5番目の更新「61,13,29」も、29|13のルールを破るため正しくありません。

最後の更新「97,13,75,29,47」は複数のルールを破るため正しくありません。

エルフたちは印刷される各更新の「中央のページ番号」も知りたがっています。
現在は正しい順序の更新のみを印刷するので、正しい順序の更新それぞれの中央のページ番号を見つける必要があります。

上記の例では、正しい順序の更新は次の通りです：

```
75,47,61,53,29  
97,61,53,29,13  
75,29,13  
```

これらの中央のページ番号はそれぞれ61、53、29です。これらを合計すると143になります。

もちろん、実際のページ順序ルールリストはもっと大きく、複雑です。

正しい順序になっている更新を特定してください。これらの正しい更新の中央ページ番号を合計すると何になりますか？　

# TODO

- [ ] 最初のセクションでは、ページ順序ルールが1行ごとに指定されています。
  - [ ] 最初のルール「47|53」は、もし更新にページ番号47と53の両方が含まれている場合、ページ番号47はページ番号53の前に印刷される必要があることを意味します（47は必ずしも53の直前である必要はありません。他のページが間に入ることもあります）。
- [ ] 2番目のセクションでは、各更新のページ番号が指定されています。
  - [ ] 多くの安全マニュアルは異なるため、更新ごとに必要なページも異なります。
  - [ ] 最初の更新「75,47,61,53,29」は、ページ番号75、47、61、53、29で構成されています。
- [ ] 正しい順序になっている更新を特定する
  - [ ] 更新(ページリスト)を渡すと、正しい順序か判定できる
    - [x] 更新(ページリスト)1行とルール1行を比べて、ページリストが正しければtrue
      - [x] [75,47,61,53,29] と [47,53]ならtrue
      - [x] [75,47,61,53,29] と [11,12]ならtrue
      - [x] [75,47,61,53,29] と [11,29]ならtrue
      - [x] [75,47,61,53,29] と [75,12]ならtrue
    - [ ] 更新(ページリスト)1行とルール1行を比べて、ページリストが正しくなけれfalse
      - [x] [75,47,61,53,29] と [53,47]ならfalse
    - [x] 更新(ページリスト)1行とルール複数を比べて、ページリストが正しければtrue
      - [x] [75,47,61,53,29] と [47,53][47,29]ならtrue
    - [x] 更新(ページリスト)1行とルール複数を比べて、ページリストが正しくなければfalse
      - [x] [75,47,61,53,29] と [53,47][47,29]ならfalse
      - [x] [75,47,61,53,29] と [47,53][29,47]ならfalse


  - [ ] ルールや更新をファイルから読み込む
    - [ ] "47|53"を渡すと、47,53の順で帰る
  - [ ] 上記の例では、最初の更新「75,47,61,53,29」は正しい順序です：
  - [ ] - 75は最初に来るべきページです。なぜなら、75|47、75|61、75|53、75|29と他の全てのページが後に続くルールがあるからです。
  - [ ] - 47は2番目に正しく配置されています。なぜなら、75|47で75が前にあり、47|61、47|53、47|29で他の全てが後ろに続くからです。
  - [ ] - 61は中間に正しく配置されています。75|61と47|61で75と47が前にあり、61|53と61|29で53と29が後に続きます。
  - [ ] - 53は4番目に正しく配置されています。なぜなら、53|29で29より前にあるからです。
  - [ ] - 29は最後のページであり、正しい位置にあります。
  - [ ] 一部のページ番号が更新に含まれていない場合、そのページ番号に関する順序ルールは無視されます。
  - [ ] 2番目と3番目の更新もルールに従って正しい順序になっています。しかし、4番目の更新「75,97,47,61,53」は、97|75のルールを破るため正しくありません。
  - [ ] 5番目の更新「61,13,29」も、29|13のルールを破るため正しくありません。
  - [ ] 最後の更新「97,13,75,29,47」は複数のルールを破るため正しくありません。
- [ ] エルフたちは印刷される各更新の「中央のページ番号」も知りたがっています。
  - [ ] 現在は正しい順序の更新のみを印刷するので、正しい順序の更新それぞれの中央のページ番号を見つける必要があります。
  - [ ] 上記の例では、正しい順序の更新は次の通りです：
```
75,47,61,53,29  
97,61,53,29,13  
75,29,13  
```

  - [ ] これらの中央のページ番号はそれぞれ61、53、29です。これらを合計すると143になります。
  - [ ] もちろん、実際のページ順序ルールリストはもっと大きく、複雑です。
- [ ] 正しい順序になっている更新を特定してください。これらの正しい更新の中央ページ番号を合計すると何になりますか？　



# 参加者

- 神
- てらひで
- 401

# 見学 (解いちゃった人)

- yattom



